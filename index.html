<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Repaso de Dinámica</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<!-- Script de MathJax para renderizar LaTeX -->
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
body { font-family: 'Inter', sans-serif; }
.quiz-container {
  border: 1px solid #e2e8f0;
  border-radius: 0.75rem;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  overflow: hidden;
}
.answer-btn { transition: background-color 0.2s, border-color 0.2s; }
.answer-btn.correct {
  background-color: #dcfce7 !important;
  border-color: #22c55e !important;
  color: #166534 !important;
}
.answer-btn.incorrect {
  background-color: #fee2e2 !important;
  border-color: #ef4444 !important;
  color: #991b1b !important;
}
.answer-btn:disabled { cursor: not-allowed; }
</style>
</head>
<body class="bg-gray-50 text-gray-800">

<div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-4xl">
  <header class="text-center mb-8">
    <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Repaso de Dinámica</h1>
  </header>

  <main>
    <!-- Examen Interactivo -->
    <div class="bg-white p-6 sm:p-8 rounded-lg shadow-md mb-8">
      <h2 class="text-2xl font-semibold mb-6">Examen Interactivo de Práctica</h2>
      <p class="mb-6">Responde las siguientes 20 preguntas (10 de teoría y 10 de práctica) para evaluar tu comprensión. Lee la justificación tras cada respuesta para reforzar conceptos.</p>
      <div id="quiz-app" class="quiz-container p-6">
        <div id="question-container" class="mb-4">
          <p id="question-text" class="text-lg font-semibold text-gray-900"></p>
        </div>
        <div id="answer-options" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        <div id="feedback-container" class="mt-4 text-sm text-gray-700 min-h-[3em]">
          <p id="rationale-text"></p>
        </div>
        <div class="mt-6 flex justify-between items-center">
          <p id="progress-text" class="text-sm text-gray-500"></p>
          <button id="next-btn"
                  class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 hidden">
            Siguiente
          </button>
        </div>
        <div id="results-container" class="hidden text-center">
          <h3 class="text-2xl font-bold">¡Examen completado!</h3>
            <p id="score-text" class="text-xl mt-4"></p>
            <button id="restart-btn"
                    class="mt-6 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700">
              Intentar de Nuevo
            </button>
        </div>
      </div>
    </div>
  </main>
</div>

<script>
/* ===================== Examen Interactivo de Dinámica ===================== */
const quizData = [
  // Teoría
  {
    question: "¿Cuál de las siguientes cantidades físicas es un escalar?",
    options: [
      { text: "Velocidad", isCorrect: false, rationale: "La velocidad tiene magnitud (rapidez) y dirección, por lo tanto es un vector." },
      { text: "Masa", isCorrect: true, rationale: "La masa solo tiene magnitud (por ejemplo, 5 kg), no tiene una dirección asociada." },
      { text: "Aceleración", isCorrect: false, rationale: "La aceleración es el cambio de velocidad, por lo que también es un vector." },
      { text: "Fuerza", isCorrect: false, rationale: "La fuerza tiene magnitud y una dirección en la que se aplica, es un vector." }
    ]
  },
  {
    question: "En un movimiento de proyectil, despreciando la resistencia del aire, la componente horizontal de la velocidad...",
    options: [
      { text: "Aumenta con el tiempo.", isCorrect: false, rationale: "No hay fuerza horizontal, por lo tanto no hay aceleración horizontal." },
      { text: "Permanece constante.", isCorrect: true, rationale: "Como no hay aceleración en el eje x ($a_x = 0$), la velocidad horizontal no cambia." },
      { text: "Disminuye con el tiempo.", isCorrect: false, rationale: "La gravedad solo actúa verticalmente." },
      { text: "Es siempre cero.", isCorrect: false, rationale: "Solo es cero si el proyectil se lanza verticalmente." }
    ]
  },
  {
    question: "Si el producto cruz de dos vectores no nulos, $\\vec{A} \\times \\vec{B}$, es igual al vector cero, se puede concluir que los vectores son:",
    options: [
      { text: "Ortogonales (perpendiculares)", isCorrect: false, rationale: "Si fueran ortogonales, la magnitud del producto cruz sería máxima ($|A||B|$)." },
      { text: "Paralelos", isCorrect: true, rationale: "La magnitud del producto cruz es $|A||B|\\sin(\\theta)$. Es cero solo si $\\sin(\\theta) = 0$, lo que significa que el ángulo $\\theta$ es 0° o 180°." },
      { text: "De igual magnitud", isCorrect: false, rationale: "La magnitud no determina el resultado del producto cruz." },
      { text: "Unitarios", isCorrect: false, rationale: "Que sean unitarios no implica que su producto cruz sea cero." }
    ]
  },
  {
    question: "En un Movimiento Circular Uniforme, el vector de aceleración siempre apunta...",
    options: [
      { text: "En la dirección del movimiento (tangente a la trayectoria).", isCorrect: false, rationale: "Esa sería la aceleración tangencial, que es cero en un MCU." },
      { text: "Hacia el centro del círculo.", isCorrect: true, rationale: "Esta es la aceleración centrípeta o radial, responsable de cambiar la dirección del vector velocidad." },
      { text: "Hacia afuera del círculo.", isCorrect: false, rationale: "La aceleración centrípeta es 'buscadora de centro'." },
      { text: "En la dirección opuesta al movimiento.", isCorrect: false, rationale: "Eso implicaría que el objeto está frenando." }
    ]
  },
  {
    question: "La velocidad instantánea se define como:",
    options: [
      { text: "El cambio total de posición dividido por el tiempo total.", isCorrect: false, rationale: "Esa es la definición de velocidad promedio." },
      { text: "La derivada de la posición con respecto al tiempo ($dx/dt$).", isCorrect: true, rationale: "Mide la tasa de cambio de la posición en un instante específico." },
      { text: "La derivada de la aceleración con respecto al tiempo.", isCorrect: false, rationale: "Esa cantidad se conoce como 'jerk' o 'sacudida'." },
      { text: "La integral de la posición con respecto al tiempo.", isCorrect: false, rationale: "La integral no tiene una interpretación física directa en este contexto." }
    ]
  },
  {
    question: "¿Qué es la frecuencia en el Movimiento Circular Uniforme?",
    options: [
      { text: "El tiempo para completar una vuelta.", isCorrect: false, rationale: "Eso es el periodo ($T$)." },
      { text: "El número de vueltas por unidad de tiempo.", isCorrect: true, rationale: "La frecuencia ($f$) es el inverso del periodo ($f = 1/T$) y se mide en Hertz (Hz)." },
      { text: "La velocidad angular del objeto.", isCorrect: false, rationale: "Está relacionada ($\\omega=2\\pi f$), pero no es la definición." },
      { text: "El radio de la trayectoria.", isCorrect: false, rationale: "El radio es una medida de distancia." }
    ]
  },
  {
    question: "Si la aceleración de una partícula es constante y negativa, y su velocidad inicial es positiva, la partícula...",
    options: [
      { text: "Acelera indefinidamente.", isCorrect: false, rationale: "La aceleración se opone a la velocidad inicial." },
      { text: "Frena, se detiene y acelera en dirección opuesta.", isCorrect: true, rationale: "Una aceleración opuesta a la velocidad causa que el objeto frene hasta $v=0$, y luego comience a moverse en la dirección de la aceleración." },
      { text: "Se mueve con velocidad constante.", isCorrect: false, rationale: "La velocidad cambia debido a la aceleración." },
      { text: "Se detiene y permanece en reposo.", isCorrect: false, rationale: "La aceleración constante seguirá actuando sobre la partícula." }
    ]
  },
  {
    question: "¿Qué representa geométricamente la magnitud del producto cruz, $|\\vec{A} \\times \\vec{B}|$?",
    options: [
      { text: "El área del paralelogramo formado por los vectores.", isCorrect: true, rationale: "La magnitud del producto cruz es igual al área del paralelogramo que tiene a los dos vectores como lados adyacentes." },
      { text: "El volumen de un paralelepípedo.", isCorrect: false, rationale: "Eso se relaciona con el triple producto escalar." },
      { text: "La longitud de la proyección de A sobre B.", isCorrect: false, rationale: "Eso se relaciona con el producto punto." },
      { text: "El ángulo entre los dos vectores.", isCorrect: false, rationale: "El seno del ángulo es parte de la fórmula, pero no el resultado." }
    ]
  },
  {
    question: "¿Qué significa que una ecuación sea 'dimensionalmente congruente'?",
    options: [
      { text: "Que la ecuación solo usa unidades del Sistema Internacional.", isCorrect: false, rationale: "Se puede ser congruente con cualquier sistema de unidades." },
      { text: "Que todos los términos que se suman o igualan tienen las mismas unidades.", isCorrect: true, rationale: "Para que una ecuación física sea válida, las dimensiones (unidades) a ambos lados del signo de igual y en cualquier suma deben ser las mismas." },
      { text: "Que todos los números en la ecuación son enteros.", isCorrect: false, rationale: "Las constantes y mediciones pueden ser cualquier número real." },
      { text: "Que la ecuación es lineal.", isCorrect: false, rationale: "La congruencia dimensional se aplica a todo tipo de ecuaciones." }
    ]
  },
  {
    question: "En el movimiento de un proyectil, ¿en qué punto de la trayectoria la rapidez es mínima?",
    options: [
      { text: "Justo al inicio.", isCorrect: false, rationale: "La rapidez inicial puede ser alta." },
      { text: "En el punto más alto.", isCorrect: true, rationale: "En el punto más alto, la componente vertical de la velocidad es cero ($v_y=0$). La velocidad total es solo la componente horizontal ($v_x$), que es constante, resultando en la rapidez mínima." },
      { text: "Justo antes de tocar el suelo.", isCorrect: false, rationale: "Generalmente, la rapidez es máxima justo antes del impacto." },
      { text: "La rapidez es siempre constante.", isCorrect: false, rationale: "La rapidez cambia porque la componente vertical de la velocidad cambia." }
    ]
  },
  // Práctica
  {
    question: "La posición de una partícula está dada por $x(t) = 4t^3 - 6t^2 + 2$. ¿Cuál es su aceleración en $t=2$ s?",
    options: [
      { text: "32 m/s²", isCorrect: false, rationale: "Calculaste la velocidad, no la aceleración. $v(t) = 12t^2 - 12t$." },
      { text: "36 m/s²", isCorrect: true, rationale: "$v(t) = 12t^2 - 12t$. Derivando de nuevo, $a(t) = 24t - 12$. En $t=2$, $a(2) = 24(2) - 12 = 36$ m/s²." },
      { text: "24 m/s²", isCorrect: false, rationale: "Revisa el cálculo de la segunda derivada." },
      { text: "12 m/s²", isCorrect: false, rationale: "Asegúrate de sustituir $t=2$ en la ecuación de la aceleración." }
    ]
  },
  {
    question: "Calcula el producto escalar (punto) de los vectores $\\vec{A} = (2, -1, 3)$ y $\\vec{B} = (4, 5, -2)$.",
    options: [
      { text: "19", isCorrect: false, rationale: "Revisa los signos de la multiplicación." },
      { text: "-3", isCorrect: true, rationale: "$\\vec{A} \\cdot \\vec{B} = (2)(4) + (-1)(5) + (3)(-2) = 8 - 5 - 6 = -3$." },
      { text: "7", isCorrect: false, rationale: "Parece que sumaste las componentes en lugar de multiplicarlas y luego sumar." },
      { text: "0", isCorrect: false, rationale: "El resultado no es cero, por lo tanto no son ortogonales." }
    ]
  },
  {
    question: "Se deja caer una pelota desde una altura de 45 m. ¿Cuánto tiempo tarda en llegar al suelo? (Usa $g \\approx 10$ m/s²)",
    options: [
      { text: "4.5 s", isCorrect: false, rationale: "Recuerda que la fórmula es $y = (1/2)gt^2$, no $y = gt$." },
      { text: "3 s", isCorrect: true, rationale: "Usando $y = (1/2)gt^2$, tenemos $45 = (1/2)(10)t^2$. Esto simplifica a $45 = 5t^2$, entonces $t^2 = 9$, y $t = 3$ s." },
      { text: "9 s", isCorrect: false, rationale: "Asegúrate de sacar la raíz cuadrada al final." },
      { text: "2 s", isCorrect: false, rationale: "El tiempo de caída es mayor." }
    ]
  },
  {
    question: "¿Cuál es la magnitud del vector $\\vec{v} = (3, 0, -4)$?",
    options: [
      { text: "7", isCorrect: false, rationale: "No es la suma de las magnitudes de las componentes (3+4)." },
      { text: "5", isCorrect: true, rationale: "$|\\vec{v}| = \\sqrt{3^2 + 0^2 + (-4)^2} = \\sqrt{9 + 0 + 16} = \\sqrt{25} = 5$." },
      { text: "25", isCorrect: false, rationale: "Olvidaste sacar la raíz cuadrada del resultado." },
      { text: "1", isCorrect: false, rationale: "El vector no es unitario." }
    ]
  },
  {
    question: "Un atleta corre a una rapidez constante de 8 m/s en una pista circular de 16 m de radio. ¿Cuál es su aceleración centrípeta?",
    options: [
      { text: "2 m/s²", isCorrect: false, rationale: "La fórmula es $a = v^2/R$. Parece que dividiste $R/v$." },
      { text: "4 m/s²", isCorrect: true, rationale: "$a = v^2/R = (8 \\text{ m/s})^2 / 16 \\text{ m} = 64 \\text{ m}^2/\\text{s}^2 / 16 \\text{ m} = 4$ m/s²." },
      { text: "0.5 m/s²", isCorrect: false, rationale: "Parece que dividiste $v/R$." },
      { text: "128 m/s²", isCorrect: false, rationale: "Parece que multiplicaste $v^2$ por $R$." }
    ]
  },
  {
    question: "Un auto viaja a 108 km/h. ¿Cuál es su velocidad en m/s?",
    options: [
        { text: "30 m/s", isCorrect: true, rationale: "Para convertir km/h a m/s, se divide entre 3.6. $108 / 3.6 = 30$ m/s." },
        { text: "3.6 m/s", isCorrect: false, rationale: "Esta es la constante de conversión, no el resultado." },
        { text: "388.8 m/s", isCorrect: false, rationale: "Parece que multiplicaste por 3.6 en lugar de dividir." },
        { text: "108 m/s", isCorrect: false, rationale: "Las unidades son diferentes, el valor numérico debe cambiar." }
    ]
  },
  {
    question: "Un disco de 0.5 m de radio gira a una frecuencia de 2 Hz. ¿Cuál es la rapidez de un punto en el borde del disco?",
    options: [
        { text: "$\\pi$ m/s", isCorrect: false, rationale: "La fórmula es $v = 2\\pi Rf$. Faltó un factor de 2." },
        { text: "1 m/s", isCorrect: false, rationale: "Este cálculo omite el factor $2\\pi$." },
        { text: "$2\\pi$ m/s", isCorrect: true, rationale: "La rapidez se calcula con $v = 2\\pi Rf$. Sustituyendo: $v = 2 \\cdot \\pi \\cdot (0.5 \\text{ m}) \\cdot (2 \\text{ Hz}) = 2\\pi$ m/s $\\approx 6.28$ m/s." },
        { text: "$4\\pi$ m/s", isCorrect: false, rationale: "Revisa la multiplicación, parece que hay un factor extra." }
    ]
  },
  {
    question: "Se lanza una flecha con $v_0=50$ m/s y un ángulo de 37°. ¿Altura máxima? (Usa $g\\approx10$ m/s², $\\sin(37°)\\approx0.6$)",
    options: [
        { text: "30 m", isCorrect: false, rationale: "Esa es la velocidad vertical inicial, no la altura máxima." },
        { text: "90 m", isCorrect: false, rationale: "Parece que olvidaste dividir entre 2 en la fórmula de altura máxima." },
        { text: "125 m", isCorrect: false, rationale: "Este sería el resultado si se usara la velocidad total en la fórmula." },
        { text: "45 m", isCorrect: true, rationale: "$v_{0y} = 50 \\cdot \\sin(37°) \\approx 30$ m/s. La altura máxima es $h = v_{0y}^2 / (2g) = (30)^2 / (2 \\cdot 10) = 900 / 20 = 45$ m." }
    ]
  },
  {
    question: "Si $v(t) = 10 - 2t$ y $x(0)=5$, ¿cuál es la posición $x$ en $t=3$ s?",
    options: [
        { text: "30 m", isCorrect: false, rationale: "Este valor no toma en cuenta la desaceleración ni la posición inicial." },
        { text: "21 m", isCorrect: false, rationale: "Revisa la integración y la constante de integración." },
        { text: "26 m", isCorrect: true, rationale: "$x(t)=\\int(10-2t)dt = 10t-t^2+C$. Con $x(0)=5$, $C=5$. Entonces $x(t)=10t-t^2+5$. $x(3)=10(3)-(3)^2+5 = 30-9+5=26$ m." },
        { text: "15 m", isCorrect: false, rationale: "Asegúrate de sumar la constante de integración C=5." }
    ]
  },
  {
    question: "Calcula el producto vectorial de $\\vec{A} = (1, 2, 0)$ y $\\vec{B} = (0, 3, 4)$.",
    options: [
        { text: "(8, -4, 3)", isCorrect: true, rationale: "Usando el determinante: $\\hat{i}(8-0) - \\hat{j}(4-0) + \\hat{k}(3-0) = 8\\hat{i} - 4\\hat{j} + 3\\hat{k}$." },
        { text: "(-8, 4, -3)", isCorrect: false, rationale: "Revisa los signos del cálculo del determinante." },
        { text: "(3, 4, 8)", isCorrect: false, rationale: "El orden de las componentes es incorrecto." },
        { text: "11", isCorrect: false, rationale: "El resultado de un producto cruz es un vector, no un escalar." }
    ]
  }
];

let currentQuestionIndex = 0;
let score = 0;

const questionText = document.getElementById('question-text');
const answerOptionsContainer = document.getElementById('answer-options');
const rationaleText = document.getElementById('rationale-text');
const nextBtn = document.getElementById('next-btn');
const progressText = document.getElementById('progress-text');
const resultsContainer = document.getElementById('results-container');
const scoreText = document.getElementById('score-text');
const restartBtn = document.getElementById('restart-btn');
const questionContainer = document.getElementById('question-container');

// FIX: Helper function to safely call MathJax
function typesetNewMath() {
  if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
    window.MathJax.typesetPromise();
  }
}

function startQuiz() {
  currentQuestionIndex = 0;
  score = 0;
  resultsContainer.classList.add('hidden');
  questionContainer.classList.remove('hidden');
  answerOptionsContainer.classList.remove('hidden');
  progressText.classList.remove('hidden');
  nextBtn.classList.add('hidden');
  showQuestion();
}

function showQuestion() {
  resetState();
  const q = quizData[currentQuestionIndex];
  // Usamos innerHTML para renderizar correctamente los símbolos
  questionText.innerHTML = `<strong>Pregunta ${currentQuestionIndex + 1}:</strong> ${q.question}`;
  progressText.textContent = `Pregunta ${currentQuestionIndex + 1} de ${quizData.length}`;

  q.options.forEach(option => {
    const btn = document.createElement('button');
    btn.innerHTML = option.text; // Use innerHTML to render math symbols if any
    btn.className =
      'answer-btn w-full text-left p-4 border border-gray-300 rounded-md hover:bg-gray-100 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 transition';
    btn.addEventListener('click', () => selectAnswer(btn, option));
    answerOptionsContainer.appendChild(btn);
  });
  
  // Le pedimos a MathJax que busque y renderice el nuevo contenido
  typesetNewMath();
}

function resetState() {
  answerOptionsContainer.innerHTML = '';
  rationaleText.innerHTML = '';
  nextBtn.classList.add('hidden');
}

function selectAnswer(button, option) {
  Array.from(answerOptionsContainer.children).forEach(btn => { btn.disabled = true; });

  if (option.isCorrect) {
    button.classList.add('correct');
    score++;
  } else {
    button.classList.add('incorrect');
    const correctOption = quizData[currentQuestionIndex].options.find(o => o.isCorrect);
    const correctBtn = Array.from(answerOptionsContainer.children)
      .find(b => b.textContent === correctOption.text);
    if (correctBtn) correctBtn.classList.add('correct');
  }
  rationaleText.innerHTML = `<strong>Justificación:</strong> ${option.rationale}`;
  nextBtn.classList.remove('hidden');
  typesetNewMath();
}

function showResults() {
  questionContainer.classList.add('hidden');
  answerOptionsContainer.classList.add('hidden');
  progressText.classList.add('hidden');
  nextBtn.classList.add('hidden');
  rationaleText.innerHTML = '';
  resultsContainer.classList.remove('hidden');
  scoreText.textContent = `Tu puntuación final es ${score} de ${quizData.length}.`;
}

nextBtn.addEventListener('click', () => {
  currentQuestionIndex++;
  if (currentQuestionIndex < quizData.length) {
    showQuestion();
  } else {
    showResults();
  }
});

restartBtn.addEventListener('click', startQuiz);
window.addEventListener('DOMContentLoaded', startQuiz);
</script>

</body>
</html>

