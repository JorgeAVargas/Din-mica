<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interactivo: Leyes de Newton y Energía</title>
    <!-- Incluimos Tailwind CSS para un diseño moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Fuente Inter para un look limpio */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Fondo gris claro */
        }
        /* Estilos para las pestañas */
        .tab-btn {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 4px solid transparent;
            font-weight: 500;
            color: #4b5563;
        }
        .tab-btn.active {
            color: #1d4ed8;
            border-bottom-color: #1d4ed8;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        /* Estilos para las tarjetas del DCL */
        .dcl-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s ease;
        }
        .dcl-card:hover {
            transform: translateY(-5px);
        }
        .dcl-svg-container {
            width: 100%;
            min-height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f9fafb;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .dcl-svg-container svg {
            max-height: 220px;
            width: auto;
        }
        /* Estilos para el quiz */
        .quiz-question {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .quiz-question p {
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .quiz-option {
            display: block;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
        }
        .quiz-option:hover {
            background-color: #f0f5ff;
        }
        .quiz-option input {
            margin-right: 0.5rem;
        }
        /* Clases para retroalimentación */
        .correct {
            background-color: #dcfce7;
            border: 1px solid #16a34a;
        }
        .incorrect {
            background-color: #fee2e2;
            border: 1px solid #dc2626;
        }
        .feedback {
            font-weight: 700;
            margin-left: 0.5rem;
        }
        .correct .feedback {
            color: #16a34a;
        }
        .incorrect .feedback {
            color: #dc2626;
        }

    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden">
        <header class="bg-gradient-to-r from-blue-700 to-blue-900 p-8">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Quiz Interactivo: Leyes de Newton y Energía</h1>
            <p class="text-lg text-blue-200 mt-2">Basado en los Capítulos 5 y 6 de Sears-Zemansky</p>
        </header>

        <!-- Pestañas de Navegación -->
        <nav class="flex border-b border-gray-200">
            <button class="tab-btn active" onclick="showTab(event, 'dcl')">Parte 1: Galería de DCL</button>
            <button class="tab-btn" onclick="showTab(event, 'teoria')">Parte 2: Quiz Teórico</button>
            <button class="tab-btn" onclick="showTab(event, 'problemas')">Parte 3: Quiz de Problemas</button>
        </nav>

        <main class="p-6 md:p-10">
            <!-- Contenido Pestaña 1: Galería de DCL -->
            <div id="dcl" class="tab-content active">
                <p class="text-gray-700 mb-6">Analiza cada escenario y compáralo con el DCL dibujado. Las fuerzas clave están codificadas por color: <span class="text-red-500 font-medium">Peso (mg)</span>, <span class="text-blue-500 font-medium">Normal (n)</span>, <span class="text-green-500 font-medium">Fricción (f)</span>, <span class="text-purple-500 font-medium">Tensión (T)</span>, <span class="text-orange-500 font-medium">Aplicada (F)</span>.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Definición de flecha para SVGs -->
                    <svg width="0" height="0" style="position:absolute">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto" markerUnits="strokeWidth">
                                <polygon points="0 0, 10 3.5, 0 7" fill="currentColor" />
                            </marker>
                        </defs>
                    </svg>

                    <!-- 1. Reposo en Plano Inclinado -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">1. Reposo en Plano Inclinado</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="-10 -15 170 170" xmlns="http://www.w3.org/2000/svg">
                                <g transform="rotate(-30 75 75)">
                                    <rect x="50" y="50" width="50" height="25" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                </g>
                                <line x1="75" y1="62.5" x2="75" y2="120" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="80" y="118" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="75" y1="62.5" x2="40" y2="18" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="32" y="15" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <line x1="75" y1="62.5" x2="118" y2="88" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-green-500"/>
                                <text x="120" y="94" fill="currentColor" font-size="10" class="text-green-500">$\vec{f}_s$</text>
                                <line x1="5" y1="139" x2="155" y2="52" stroke="#374151" stroke-width="2"/>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Equilibrio):</strong> $\vec{n}$ es perpendicular a la rampa. $\vec{f}_s$ (fricción estática) apunta cuesta arriba, oponiéndose al deslizamiento y equilibrando a $mg \sin\alpha$.</p>
                    </div>

                    <!-- 2. Deslizando Cuesta Abajo (con fricción) -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">2. Deslizando Cuesta Abajo</h3>
                        <div class="dcl-svg-container">
                             <svg viewBox="-10 -15 170 170" xmlns="http://www.w3.org/2000/svg">
                                <g transform="rotate(-30 75 75)">
                                    <rect x="50" y="50" width="50" height="25" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                </g>
                                <!-- Vector Aceleración -->
                                <line x1="30" y1="52" x2="65" y2="32" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700"/>
                                <text x="15" y="55" fill="currentColor" font-size="10" class="text-gray-700">$\vec{a}$</text>
                                <!-- Fuerzas -->
                                <line x1="75" y1="62.5" x2="75" y2="120" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="80" y="118" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="75" y1="62.5" x2="40" y2="18" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="32" y="15" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <line x1="75" y1="62.5" x2="118" y2="88" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-green-500"/>
                                <text x="120" y="94" fill="currentColor" font-size="10" class="text-green-500">$\vec{f}_k$</text>
                                <line x1="5" y1="139" x2="155" y2="52" stroke="#374151" stroke-width="2"/>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Dinámica):</strong> $\vec{f}_k$ (fricción cinética) se opone al movimiento (cuesta abajo), por lo tanto, apunta *cuesta arriba*. La fuerza neta $mg \sin\alpha - f_k$ produce la aceleración $\vec{a}$.</p>
                    </div>
                    
                    <!-- 3. Deslizando Cuesta Arriba (con fricción) -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">3. Deslizando Cuesta Arriba</h3>
                        <div class="dcl-svg-container">
                             <svg viewBox="-10 -15 170 170" xmlns="http://www.w3.org/2000/svg">
                                <g transform="rotate(-30 75 75)">
                                    <rect x="50" y="50" width="50" height="25" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                </g>
                                <!-- Vector Aceleración -->
                                <line x1="30" y1="52" x2="65" y2="32" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700" transform="rotate(180 75 62.5)"/>
                                <text x="120" y="94" fill="currentColor" font-size="10" class="text-gray-700">$\vec{a}$</text>
                                <!-- Fuerzas -->
                                <line x1="75" y1="62.5" x2="75" y2="120" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="80" y="118" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="75" y1="62.5" x2="40" y2="18" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="32" y="15" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <line x1="75" y1="62.5" x2="32" y2="37" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-green-500"/>
                                <text x="25" y="34" fill="currentColor" font-size="10" class="text-green-500">$\vec{f}_k$</text>
                                <line x1="5" y1="139" x2="155" y2="52" stroke="#374151" stroke-width="2"/>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Dinámica):</strong> $\vec{f}_k$ se opone al movimiento (cuesta arriba), por lo tanto, apunta *cuesta abajo*. Tanto la fricción como la gravedad ($mg \sin\alpha$) frenan el bloque.</p>
                    </div>

                    <!-- 4. Elevador Acelerando Hacia Arriba -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">4. Elevador Acelerando Hacia Arriba</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
                                <rect x="35" y="50" width="30" height="30" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                <!-- Tensión (T) - LARGA -->
                                <line x1="50" y1="50" x2="50" y2="0" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="55" y="10" fill="currentColor" font-size="10" class="text-blue-500">$\vec{T}$ (o $\vec{n}$)</text>
                                <!-- Peso (mg) - CORTA -->
                                <line x1="50" y1="80" x2="50" y2="120" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="55" y="120" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <!-- Aceleración -->
                                <line x1="15" y1="30" x2="15" y2="0" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700"/>
                                <text x="10" y="45" fill="currentColor" font-size="10" class="text-gray-700">$\vec{a}$</text>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Dinámica):</strong> La fuerza hacia arriba ($\vec{T}$ o $\vec{n}$) debe ser *mayor* que el peso ($m\vec{g}$) para proporcionar una aceleración neta hacia arriba. $\Sigma F_y = T - mg = ma_y$.</p>
                    </div>

                    <!-- 5. Elevador Acelerando Hacia Abajo -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">5. Elevador Acelerando Hacia Abajo</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
                                <rect x="35" y="50" width="30" height="30" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                <!-- Tensión (T) - CORTA -->
                                <line x1="50" y1="50" x2="50" y2="10" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="55" y="15" fill="currentColor" font-size="10" class="text-blue-500">$\vec{T}$ (o $\vec{n}$)</text>
                                <!-- Peso (mg) - LARGA -->
                                <line x1="50" y1="80" x2="50" y2="140" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="55" y="140" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <!-- Aceleración -->
                                <line x1="15" y1="100" x2="15" y2="130" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700"/>
                                <text x="10" y="95" fill="currentColor" font-size="10" class="text-gray-700">$\vec{a}$</text>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Dinámica):</strong> El peso ($m\vec{g}$) es *mayor* que la fuerza hacia arriba ($\vec{T}$ o $\vec{n}$) para proporcionar una aceleración neta hacia abajo. $\Sigma F_y = T - mg = -ma_y$.</p>
                    </div>
                    
                    <!-- 6. Péndulo Cónico -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">6. Péndulo Cónico</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg">
                                <!-- Ejes -->
                                <line x1="80" y1="0" x2="80" y2="160" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <line x1="0" y1="80" x2="160" y2="80" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <!-- Masa -->
                                <circle cx="80" cy="80" r="10" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                <!-- Fuerzas -->
                                <!-- Peso (mg) -->
                                <line x1="80" y1="90" x2="80" y2="140" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="85" y="140" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <!-- Tensión (T) -->
                                <line x1="80" y1="80" x2="40" y2="20" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-purple-500"/>
                                <text x="35" y="15" fill="currentColor" font-size="10" class="text-purple-500">$\vec{T}$</text>
                                <!-- Componentes -->
                                <line x1="80" y1="80" x2="40" y2="80" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <line x1="40" y1="80" x2="40" y2="20" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <text x="45" y="95" fill="currentColor" font-size="9" class="text-purple-500">$T \sin\beta$</text>
                                <text x="25" y="50" fill="currentColor" font-size="9" class="text-purple-500">$T \cos\beta$</text>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Mov. Circular):</strong> La componente vertical $T \cos\beta$ equilibra el peso $m\vec{g}$. La componente horizontal $T \sin\beta$ apunta al centro y proporciona la fuerza centrípeta $mv^2/R$.</p>
                    </div>

                    <!-- 7. Auto en Curva Plana -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">7. Auto en Curva Plana (DCL)</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg">
                                <rect x="60" y="70" width="40" height="20" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                <!-- Fuerzas -->
                                <line x1="80" y1="70" x2="80" y2="20" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="85" y="25" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <line x1="80" y1="90" x2="80" y2="140" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="85" y="145" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="80" y1="80" x2="20" y2="80" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-green-500"/>
                                <text x="15" y="78" fill="currentColor" font-size="10" class="text-green-500">$\vec{f}_s$</text>
                                <!-- Aceleración -->
                                <line x1="80" y1="50" x2="20" y2="50" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700"/>
                                <text x="15" y="48" fill="currentColor" font-size="10" class="text-gray-700">$\vec{a}_{rad}$</text>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Mov. Circular):</strong> DCL visto desde atrás. $\vec{n}$ y $m\vec{g}$ se cancelan. La $\vec{f}_s$ (fricción estática) apunta al centro de la curva y es la única fuerza que proporciona la aceleración centrípeta $a_{rad}$.</p>
                    </div>

                    <!-- 8. Auto en Curva Peraltada -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">8. Auto en Curva Peraltada (DCL)</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="-10 -10 170 170" xmlns="http://www.w3.org/2000/svg">
                                <g transform="rotate(-25 75 75)">
                                    <rect x="50" y="50" width="50" height="25" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                </g>
                                <!-- Fuerzas -->
                                <line x1="75" y1="62.5" x2="75" y2="120" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="80" y="118" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="75" y1="62.5" x2="48" y2="18" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="40" y="15" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <!-- Componentes de N -->
                                <line x1="48" y1="18" x2="48" y2="62.5" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <line x1="48" y1="62.5" x2="75" y2="62.5" stroke="#9ca3af" stroke-width="1" stroke-dasharray="4"/>
                                <text x="35" y="45" fill="currentColor" font-size="9" class="text-blue-500">$n \cos\beta$</text>
                                <text x="50" y="75" fill="currentColor" font-size="9" class="text-blue-500">$n \sin\beta$</text>
                                <line x1="0" y1="130" x2="150" y2="60" stroke="#374151" stroke-width="2"/>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Mov. Circular):</strong> Sin fricción. La $\vec{n}$ es perpendicular a la rampa. $n \cos\beta$ equilibra a $m\vec{g}$. $n \sin\beta$ apunta al centro y proporciona la $a_{rad}$.</p>
                    </div>

                    <!-- 9. Trabajo: Fuerza en Ángulo -->
                    <div class="dcl-card">
                        <h3 class="text-lg font-semibold p-4 border-b">9. Trabajo de Fuerza en Ángulo</h3>
                        <div class="dcl-svg-container">
                            <svg viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg">
                                <rect x="20" y="80" width="40" height="20" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
                                <!-- Fuerzas -->
                                <line x1="40" y1="100" x2="40" y2="150" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-red-500"/>
                                <text x="45" y="150" fill="currentColor" font-size="10" class="text-red-500">$m\vec{g}$</text>
                                <line x1="40" y1="80" x2="40" y2="30" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-blue-500"/>
                                <text x="45" y="35" fill="currentColor" font-size="10" class="text-blue-500">$\vec{n}$</text>
                                <line x1="20" y1="90" x2="0" y2="90" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-green-500"/>
                                <text x="-5" y="85" fill="currentColor" font-size="10" class="text-green-500">$\vec{f}_k$</text>
                                <line x1="40" y1="80" x2="100" y2="50" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-orange-500"/>
                                <text x="105" y="50" fill="currentColor" font-size="10" class="text-orange-500">$\vec{F}$</text>
                                <!-- Desplazamiento -->
                                <line x1="60" y1="90" x2="140" y2="90" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="text-gray-700"/>
                                <text x="145" y="90" fill="currentColor" font-size="10" class="text-gray-700">$\vec{s}$</text>
                            </svg>
                        </div>
                        <p class="p-4 text-gray-700"><strong>Análisis (Trabajo):</strong> $W_{net} = W_n + W_g + W_F + W_f$. $W_n = 0$ y $W_g = 0$ (perpendiculares a $\vec{s}$). $W_F = (F \cos\phi)s$ (positivo). $W_f = -f_k s$ (negativo).</p>
                    </div>
                </div>
            </div>

            <!-- Contenido Pestaña 2: Quiz Teórico -->
            <div id="teoria" class="tab-content">
                <div id="quiz-teorico-container"></div>
                <button id="submit-teorico" class="mt-6 bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-blue-700 transition">Revisar Respuestas</button>
                <div id="results-teorico" class="mt-4 text-lg font-semibold"></div>
            </div>

            <!-- Contenido Pestaña 3: Quiz de Problemas -->
            <div id="problemas" class="tab-content">
                <div id="quiz-problemas-container"></div>
                <button id="submit-problemas" class="mt-6 bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-blue-700 transition">Revisar Respuestas</button>
                <div id="results-problemas" class="mt-4 text-lg font-semibold"></div>
            </div>
        </main>
    </div>

    <script>
        // --- Lógica de Pestañas ---
        function showTab(event, tabName) {
            // Ocultar todo el contenido
            let tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = "none";
            }
            // Quitar clase 'active' de todos los botones
            let tabButtons = document.getElementsByClassName("tab-btn");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].className = tabButtons[i].className.replace(" active", "");
            }
            // Mostrar la pestaña seleccionada y marcar el botón como activo
            document.getElementById(tabName).style.display = "block";
            event.currentTarget.className += " active";
        }
        // Mostrar la primera pestaña por defecto
        document.getElementById('dcl').style.display = "block";

        // --- Datos del Quiz ---
        const quizTeoricoData = [
            {
                question: "1. Un objeto está en una báscula dentro de un elevador que se mueve hacia abajo y está frenando. La lectura de la báscula (peso aparente) es:",
                options: ["Igual a su peso real (mg)", "Mayor que su peso real", "Menor que su peso real", "Cero"],
                answer: 1 // Índice de la respuesta correcta (B)
            },
            {
                question: "2. En el escenario de la Pregunta 1, ¿cuál es la dirección de la aceleración neta del objeto?",
                options: ["Hacia arriba", "Hacia abajo", "Cero", "Depende de la velocidad"],
                answer: 0 // Índice A
            },
            {
                question: "3. Un auto toma una curva en una carretera plana (sin peralte) a velocidad constante. La fuerza centrípeta que mantiene al auto en la curva es proporcionada por:",
                options: ["La fuerza normal", "La fuerza de fricción cinética", "La fuerza de fricción estática", "La componente horizontal del peso"],
                answer: 2 // Índice C
            },
            {
                question: "4. Si el auto de la Pregunta 3 toma la curva demasiado rápido, derrapa. ¿Por qué la fuerza de fricción estática tiene un valor máximo?",
                options: ["Porque la fuerza normal disminuye con la velocidad", "Porque $f_s$ depende de $v^2$", "Porque $\\mu_s n$ es un límite que depende de las superficies y la fuerza normal", "Porque la fricción se convierte en cinética, la cual es siempre menor"],
                answer: 2 // Índice C
            },
            {
                question: "5. El Teorema del Trabajo y la Energía establece que:",
                options: ["El trabajo realizado por la gravedad es igual al cambio en la energía cinética", "El trabajo realizado por las fuerzas no conservativas es igual al cambio en la energía cinética", "El trabajo *neto* (total) realizado sobre un objeto es igual al cambio en su energía cinética", "La fuerza neta es igual al cambio en la energía cinética"],
                answer: 2 // Índice C
            },
            {
                question: "6. Usted levanta un libro pesado desde el piso hasta un estante a velocidad constante. El trabajo realizado por la fuerza de gravedad sobre el libro es:",
                options: ["Positivo", "Negativo", "Cero", "Depende de la trayectoria"],
                answer: 1 // Índice B
            },
            {
                question: "7. Un bloque se desliza sobre una superficie rugosa y se detiene. El trabajo realizado por la fuerza de fricción es:",
                options: ["Positivo", "Negativo", "Cero", "Igual al cambio en la energía potencial"],
                answer: 1 // Índice B
            },
            {
                question: "8. ¿Cuál de las siguientes es una fuerza *no conservativa*?",
                options: ["La fuerza de gravedad", "La fuerza de un resorte ideal", "La fuerza de fricción", "La fuerza eléctrica"],
                answer: 2 // Índice C
            },
            {
                question: "9. Un motor levanta un objeto de 10 N a una velocidad constante de 2 m/s. La potencia instantánea suministrada por el motor es:",
                options: ["5 W", "10 W", "20 W", "200 W"],
                answer: 2 // Índice C
            },
            {
                question: "10. Usted estira un resorte ideal una distancia $x$. El trabajo realizado *por el resorte* sobre su mano es:",
                options: ["$+kx$", "$-kx$", "$+\\frac{1}{2}kx^2$", "$-\\frac{1}{2}kx^2$"],
                answer: 3 // Índice D
            }
        ];

        const quizProblemasData = [
            {
                question: "1. (Equilibrio) Un semáforo de 100 N cuelga de dos cables que forman un ángulo de $45^\\circ$ con la vertical. ¿Cuál es la tensión $T$ en cada cable?",
                options: ["50.0 N", "70.7 N", "100 N", "141.4 N"],
                answer: 1, // B
                explanation: "Equilibrio: $\\Sigma F_y = 0 \\implies T\\cos(45^\\circ) + T\\cos(45^\\circ) - 100 \\text{ N} = 0$. $2T(0.707) = 100 \\text{ N} \\implies T = 70.7$ N."
            },
            {
                question: "2. (Plano Inclinado) Un bloque de 20 N está en reposo en una rampa inclinada $30^\\circ$. La fuerza de fricción estática que actúa sobre el bloque es:",
                options: ["20 N", "17.3 N", "10 N", "0 N"],
                answer: 2, // C
                explanation: "Equilibrio: $\\Sigma F_x = 0$. $f_s$ debe equilibrar la componente del peso paralela a la rampa: $f_s = mg \\sin(30^\\circ) = (20 \\text{ N})(0.5) = 10$ N."
            },
            {
                question: "3. (Máquina de Atwood) Dos masas, $m_1 = 2.0$ kg y $m_2 = 3.0$ kg, están conectadas por una cuerda sobre una polea sin fricción. ¿Cuál es la aceleración $a$ del sistema? ($g = 9.8$ m/s²)",
                options: ["$9.8$ m/s²", "$4.9$ m/s²", "$2.0$ m/s²", "$1.96$ m/s²"],
                answer: 3, // D
                explanation: "$\\Sigma F_{ext} = m_{total}a \\implies m_2 g - m_1 g = (m_1 + m_2)a$. $(3-2)(9.8) = (3+2)a \\implies 9.8 = 5a \\implies a = 1.96$ m/s²."
            },
            {
                question: "4. (Fricción Estática) Un bloque de 25 kg está en una rampa. Si $\\mu_s = 0.35$, ¿cuál es el ángulo *máximo* $\\alpha$ de la rampa antes de que el bloque deslice?",
                options: ["$15.5^\\circ$", "$19.3^\\circ$", "$20.5^\\circ$", "$35.0^\\circ$"],
                answer: 1, // B
                explanation: "En el ángulo máximo, $mg \\sin\\alpha = f_{s,max} = \\mu_s n = \\mu_s mg \\cos\\alpha$. $\\tan\\alpha = \\mu_s$. $\\alpha = \\arctan(0.35) = 19.3^\\circ$."
            },
            {
                question: "5. (Fricción Cinética) Un bloque de 50 N se desliza cuesta abajo por una rampa a $30^\\circ$. Si $\\mu_k = 0.20$, ¿cuál es la aceleración $a_x$ del bloque? ($g = 9.8$ m/s²)",
                options: ["$4.90$ m/s²", "$4.04$ m/s²", "$3.20$ m/s²", "$2.50$ m/s²"],
                answer: 2, // C
                explanation: "$n = mg \\cos(30^\\circ) = 50(0.866) = 43.3$ N. $f_k = \\mu_k n = 0.2(43.3) = 8.66$ N. $\\Sigma F_x = mg \\sin(30^\\circ) - f_k = ma_x$. $50(0.5) - 8.66 = (50/9.8)a_x \\implies 16.34 = 5.1 a_x \\implies a_x \\approx 3.20$ m/s²."
            },
            {
                question: "6. (Movimiento Circular) Un auto toma una curva plana de $220$ m de radio. Si $\\mu_s = 0.80$, ¿cuál es la $v_{max}$ sin derrapar? ($g = 9.8$ m/s²)",
                options: ["$29.7$ m/s", "$41.6$ m/s", "$176.4$ m/s", "$1728$ m/s"],
                answer: 1, // B
                explanation: "$f_s = mv^2/R = \\mu_s n = \\mu_s mg$. $v = \\sqrt{\\mu_s g R} = \\sqrt{0.80 \\cdot 9.8 \\cdot 220} = \\sqrt{1724.8} \\approx 41.6$ m/s."
            },
            {
                question: "7. (Cálculo de Trabajo) Un obrero empuja una caja de 30 kg una distancia de 4.5 m con una fuerza horizontal constante de 220 N. El $\\mu_k = 0.25$. ¿Cuál es el trabajo *total* ($W_{net}$) realizado? ($g = 9.8$ m/s²)",
                options: ["$990$ J", "$659$ J", "$331$ J", "$-331$ J"],
                answer: 1, // B
                explanation: "$W_F = (220 \\text{ N})(4.5 \\text{ m}) = 990$ J. $n = mg = 294$ N. $f_k = \\mu_k n = (0.25)(294) = 73.5$ N. $W_f = -f_k s = -(73.5)(4.5) = -330.75$ J. $W_{net} = 990 - 330.75 = 659.25$ J."
            },
            {
                question: "8. (Teorema W-K) Un trineo de 8.0 kg se mueve a 4.0 m/s. 2.50 m más adelante, su rapidez es de 6.0 m/s. ¿Cuál fue la fuerza neta $F_{net}$ constante?",
                options: ["$16.0$ N", "$32.0$ N", "$40.0$ N", "$80.0$ N"],
                answer: 1, // B
                explanation: "$W_{net} = \\Delta K = \\frac{1}{2}m(v_f^2 - v_i^2) = \\frac{1}{2}(8.0)(6^2 - 4^2) = 4(20) = 80$ J. $W_{net} = F_{net} \\cdot s \\implies 80 \\text{ J} = F_{net} (2.50 \\text{ m}) \\implies F_{net} = 32.0$ N."
            },
            {
                question: "9. (Trabajo y Resortes) Se requieren 12.0 J de trabajo para estirar un resorte 3.0 cm (0.03 m) desde su equilibrio. ¿Cuál es la constante $k$ del resorte?",
                options: ["$400$ N/m", "$4,000$ N/m", "$26,667$ N/m", "$80,000$ N/m"],
                answer: 2, // C
                explanation: "$W = \\frac{1}{2}kx^2 \\implies 12.0 \\text{ J} = \\frac{1}{2}k(0.03 \\text{ m})^2 \\implies k = 24.0 / 0.0009 = 26,667$ N/m."
            },
            {
                question: "10. (Potencia) Un motor debe levantar un elevador de 1000 kg (peso $\\approx 9800$ N) a velocidad constante de 2.0 m/s. ¿Qué potencia mínima debe suministrar?",
                options: ["$4.9$ kW", "$9.8$ kW", "$19.6$ kW", "$49.0$ kW"],
                answer: 2, // C
                explanation: "$F_{motor} = mg = (1000)(9.8) = 9800$ N. $P = Fv = (9800 \\text{ N})(2.0 \\text{ m/s}) = 19600$ W = 19.6 kW."
            }
        ];

        // --- Lógica del Quiz ---
        document.addEventListener('DOMContentLoaded', () => {
            // Cargar los quizzes
            buildQuiz(quizTeoricoData, 'quiz-teorico-container', 'teorico');
            buildQuiz(quizProblemasData, 'quiz-problemas-container', 'problemas');

            // Asignar eventos a los botones de revisión
            document.getElementById('submit-teorico').addEventListener('click', () => {
                checkAnswers(quizTeoricoData, 'quiz-teorico-container', 'results-teorico', 'teorico');
            });
            document.getElementById('submit-problemas').addEventListener('click', () => {
                checkAnswers(quizProblemasData, 'quiz-problemas-container', 'results-problemas', 'problemas');
            });

            // Cargar MathJax para renderizar LaTeX
            let script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
            script.async = true;
            document.head.appendChild(script);
        });

        function buildQuiz(quizData, containerId, quizName) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            quizData.forEach((item, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.id = `${quizName}-q-${index}`;
                
                let optionsHtml = item.options.map((option, oIndex) => `
                    <label class="quiz-option">
                        <input type="radio" name="${quizName}-q${index}" value="${oIndex}">
                        <span>${option}</span>
                    </label>
                `).join('');

                questionDiv.innerHTML = `<p>${item.question}</p>${optionsHtml}<div class="feedback-container mt-2"></div>`;
                container.appendChild(questionDiv);
            });
        }

        function checkAnswers(quizData, containerId, resultsId, quizName) {
            let score = 0;
            const questions = document.getElementById(containerId).getElementsByClassName('quiz-question');
            
            quizData.forEach((item, index) => {
                const qDiv = questions[index];
                const selected = qDiv.querySelector(`input[name="${quizName}-q${index}"]:checked`);
                const feedbackContainer = qDiv.querySelector('.feedback-container');
                feedbackContainer.innerHTML = ''; // Limpiar feedback anterior

                // Quitar clases previas de las opciones
                qDiv.querySelectorAll('.quiz-option').forEach(label => {
                    label.classList.remove('correct', 'incorrect');
                });

                if (selected) {
                    const answer = parseInt(selected.value);
                    const correctLabel = qDiv.querySelectorAll('.quiz-option')[item.answer];
                    
                    if (answer === item.answer) {
                        score++;
                        selected.parentElement.classList.add('correct');
                    } else {
                        selected.parentElement.classList.add('incorrect');
                        correctLabel.classList.add('correct');
                    }

                    // Mostrar explicación para el quiz de problemas
                    if (item.explanation) {
                        const explanationEl = document.createElement('div');
                        explanationEl.className = 'p-3 mt-3 bg-gray-50 rounded-md border border-gray-200 text-sm text-gray-700';
                        explanationEl.innerHTML = `<strong>Explicación:</strong> ${item.explanation}`;
                        feedbackContainer.appendChild(explanationEl);
                        
                        // Pedir a MathJax que vuelva a renderizar el nuevo contenido
                        if (window.MathJax) {
                            MathJax.typesetPromise([feedbackContainer]);
                        }
                    }

                } else {
                    // Marcar la pregunta como no respondida (y mostrar la correcta)
                    const correctLabel = qDiv.querySelectorAll('.quiz-option')[item.answer];
                    correctLabel.classList.add('correct');
                    feedbackContainer.innerHTML = `<span class="feedback incorrect">No respondida.</span>`;
                }
            });

            const resultsContainer = document.getElementById(resultsId);
            resultsContainer.innerHTML = `Tu puntuación: ${score} de ${quizData.length}`;
            resultsContainer.className = 'mt-6 text-xl font-bold p-4 rounded-lg text-center';
            
            if (score === quizData.length) {
                resultsContainer.classList.add('bg-green-100', 'text-green-700');
            } else {
                resultsContainer.classList.add('bg-yellow-100', 'text-yellow-700');
            }
        }
    </script>
</body>
</html>
